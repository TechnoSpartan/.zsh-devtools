#!/bin/bash

# ASCII logo
cat << "EOF"

                                                      ##  ===++#%%%%%%%
                                            ==:=-:.....:  ...........+%*=
                                     %%+=+ +....:::::::- *:::::::::.:%#:..::=#@
                                  *=-:...:@@:::::::::::- *::::::::::* -.........-=#
                              #+-..:::::::# *::::------+ =:------::-#-:::::::::....:=*
                            %=...:::::::::-@ ----------# =---------* -:::::::::::::...:*
                         %=:+#-.::::::-----* =--------=+%---------+ =-----------------=*
                       #-::::*%#-:---------+@*-----====*#=-------=*+---------------=#
                      +:::::::*%%---------==%@========= +========+ +-=----------=*%
                   %+::::::::--=%%=-----====+@*-======+ +=======+%*=========--=+@
                % #-:::---------=#@*-========% +=====++ ===+=+==##===========*
                  #-::-----------=+ *=======*#                    %#*=====-*@
               %==*%%+------=-=====*%*==**       **=-==----==*%%@     @*++%
              #=:::-+#@*=-==========*      +=-:::--=========--::.:-*#@@
             %=--------*@#+=======+     +:.-=++++++++++++++++++++==:..:#@
            %=-----------=*#====*    +::=+++++++++++++++++++++++++===-:=@
            +---============* *@  #=:-++++++++*#@@@   @    @@@%#*+===+%@
           %================#    *:=++++++%@                     @@@@@
          %  ##+===========#   +:=+++++#%@          *##***#@
          =-=+*#@@#++====+%  %+-+++++#@      %++:.............:==%@
         *========+#   #*@@ @+=++++%@     @*.....::::::............-%@
         +============+*   *-++++*%     +-:::-=========----::::.......-#@        #@
         +==========+++%   +++++#     #=--=+++++++========-----::::.....:#@    %=.=
        #+++++++++++++*   +++++%@   %+--++++++++++++=========----:::::....:%  +:...
        *++++++++++++*   ++++*%    @=-=+*****++++++++++++======-----:::::=# +:.:...+
        ++*%  %%#**++*  #++++*@   %===**********+++++++++++++=====-----== *=.:::...=
       *+++++++=++++*   +++++%   @+=+***************+++++++++++++====+  +-.-::::...:
       *++++++++++++*  #++++#    %==*********************++++++++**   =::---::::...:%
       *++++++++++++#  *+++**   @*=****************************#  #=--====---::::...#
       *++++++++++++%  ++++*    @=+***********************#    ==:=+++====---::::...+@
       #*+++++++++**  #++++#    *=********************#     +-=++++++++===---::::...:@
        ***##%  @#*+% %++++#   @*+***************%    #+===+***+++++++++===---:::....%
        *+*+*+++++++#@ *+++    @*+*************@  **++*********++++++*#@@    %+::....*
        #*++++++++++*@ *++*     *+************#@%****#%%********#%%             +:...=
         *+++++++++++#          #+************ %*******#@%##%%%#***+:+           *:..-#
         **++++++++++*          %************* %********#@#*****++++--            *..-%
         **++++++++++*           #************ @#*******%@#***+++++++-:* @  @      -..%
         #*****++++++*           #************#  #****#%@%****++++++++=:.-=+#%@@   -..=
          *********++*           #************+%   @@@  #*****+++++++++===-::...:  #:.:
          #**********#           %+*************@       @******++++++++====---:..+  =..:
          #**********            %=*************%        #*****+++++++++===----:.-   =:=
          #*********@           @+=************#@        @******++++++++====---:.:
          #********%            *-=********##            @********++++++====---:::#
          ********#            *-=******#                 %*****+++++++++====---:.+
         #*******#            +==*#                         *+*****++++++====---:::
         *******#@                                             *+***++++++====---:.+
         #****#@  %                                              ******+++====---:.:
        %+++*#                                                       *+**++====---::#
       #==+%                                                            #*++*+----:.=
       +*%                                                                  #**+=-:.:#
                                                                                #*+:.+
                                                                                    +*
EOF

echo ""
echo "ðŸ§ª Ejecutando diagnÃ³stico del entorno de desarrollo..."
echo ""

check() {
  local name=$1
  local command=$2

  if command -v $command &> /dev/null; then
    echo "âœ… $name detectado: $($command --version | head -n 1)"
  else
    echo "âŒ $name NO encontrado. Puedes instalarlo con: brew install $command"
  fi
}

check "Zsh" zsh
check "Direnv" direnv
check "Node.js" node
check "NVM" nvm
check "Java (JDK)" java
check "Android SDK (sdkmanager)" sdkmanager
check "Flutter" flutter
check "Docker" docker
check "Kubectl" kubectl

echo ""
echo "ðŸ§  Consejo: Usa comandos como env-node, env-android, etc. para activar entornos especÃ­ficos."
echo "ðŸ‘‰ Si tienes .nvmrc, usa tambiÃ©n: echo 'use node' > .envrc && direnv allow"
